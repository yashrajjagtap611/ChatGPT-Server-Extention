<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ChatGPT Cookie Importer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; }
      .card { max-width: 760px; border: 1px solid #ddd; border-radius: 8px; padding: 16px; }
      h1 { font-size: 18px; margin: 0 0 12px; }
      .row { margin: 12px 0; }
      input[type="file"] { display: block; }
      button { padding: 8px 12px; border: 1px solid #999; border-radius: 6px; background: #fff; cursor: pointer; }
      button[disabled] { opacity: 0.6; cursor: not-allowed; }
      pre { white-space: pre-wrap; word-wrap: break-word; background: #fafafa; border: 1px solid #eee; padding: 8px; border-radius: 6px; max-height: 240px; overflow: auto; }
      .success { color: #0a7a35; }
      .error { color: #b00020; }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>ChatGPT Cookie Importer</h1>
      <div class="row">
        <details>
          <summary>Backend (optional): Login and import from server</summary>
          <div class="row">
            <label>API Base URL</label>
            <input id="api-base" placeholder="http://localhost:8080" />
          </div>
          <div class="row">
            <input id="email" placeholder="email" />
            <input id="password" type="password" placeholder="password" />
          </div>
          <div class="row">
            <button id="login">Login</button>
            <span id="login-status"></span>
          </div>
          <div class="row">
            <button id="one-click-login">Login to ChatGPT (use admin cookies)</button>
          </div>
          <div class="row">
            <button id="list-bundles">List Bundles</button>
          </div>
          <div class="row">
            <label for="bundle-id">Bundle ID</label>
            <input id="bundle-id" placeholder="paste bundle id" />
            <button id="import-from-backend">Import From Server</button>
          </div>
          <div class="row">
            <pre id="bundles"></pre>
          </div>
        </details>
      </div>
      <div class="row">
        <label for="file">Select chatgpt.com-cookies.json</label>
        <input id="file" type="file" accept=".json,application/json" />
      </div>
      <div class="row">
        <label><input id="clear-first" type="checkbox" /> Clear existing chatgpt.com cookies before import</label>
      </div>
      <div class="row">
        <button id="import" disabled>Import Cookies</button>
        <button id="open-login" style="margin-left:8px">Open ChatGPT</button>
      </div>
      <div class="row">
        <div id="status"></div>
      </div>
      <div class="row">
        <details>
          <summary>Log</summary>
          <pre id="log"></pre>
        </details>
      </div>
    </div>
    <script src="options.js"></script>
  </body>
  </html>


